<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown a html semántico | Yerai Lorenzo</title>
    <link rel="canonical" href="https://yerailorenzo.com/herramientas/markdown-a-html/" />
    <meta name="description" content="Herramienta online gratuita para convertir Markdown a HTML limpio y semántico.">
    <meta name="robots" content="index, follow">

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Main Site Styles -->
    <link rel="stylesheet" href="https://yerai.pages.dev/styles.css">

    <style>
        /* --- Tool Specific Styles --- */
        :root {
            /* Map tool variables to site variables where possible or keep specific ones */
            --bg-color: var(--bg-body);
            --panel-bg: var(--bg-card);
            --text-color: var(--text-main);
            --border-color: rgba(255, 255, 255, 0.1);
            /* Dark mode friendly border */
            --header-bg: var(--header-footer);
            --header-text: #ecf0f1;
            --button-bg: var(--accent);
            --button-hover-bg: #ff5e1a;
            --button-secondary-bg: #333;
            --button-secondary-hover-bg: #444;
        }

        body {
            /* Reset body to allow normal scrolling */
            display: block;
            height: auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Tool Container */
        .tool-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            height: 80vh;
            /* Fixed height for the tool area */
            margin-top: 20px;
            margin-bottom: 60px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            overflow: hidden;
            background: var(--bg-body);
        }

        .tool-header {
            background-color: var(--header-bg);
            color: var(--header-text);
            padding: 1rem;
            text-align: center;
        }

        .tool-header h1 {
            margin: 0;
            font-size: 1.5rem;
            color: white;
            /* Ensure title is white */
        }

        .controls {
            background-color: var(--bg-card);
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .controls button {
            background-color: var(--button-bg);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
            font-family: var(--font-stack);
            font-weight: 600;
        }

        .controls button:hover {
            background-color: var(--button-hover-bg);
        }

        .controls #toggle-view-btn {
            background-color: var(--button-secondary-bg);
        }

        .controls #toggle-view-btn:hover {
            background-color: var(--button-secondary-hover-bg);
        }

        .controls label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            color: var(--text-main);
        }

        .tool-main {
            display: flex;
            flex-grow: 1;
            overflow: hidden;
        }

        .panel {
            width: 50%;
            height: 100%;
            padding: 1rem;
            box-sizing: border-box;
            overflow-y: auto;
            position: relative;
            background: var(--bg-body);
        }

        #markdown-input {
            width: 100%;
            height: 100%;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1rem;
            font-family: "Courier New", Courier, monospace;
            font-size: 1rem;
            resize: none;
            background: var(--bg-card);
            color: var(--text-main);
        }

        #html-output,
        #html-raw-output {
            width: 100%;
            height: 100%;
            box-sizing: border-box;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            overflow: auto;
        }

        #html-output {
            background-color: var(--bg-card);
            /* Match card bg */
            color: var(--text-main);
            line-height: 1.6;
            padding: 1rem;
        }

        #html-output>*:first-child {
            margin-top: 0;
        }

        #html-output h1,
        #html-output h2,
        #html-output h3 {
            padding-bottom: 0.3em;
            color: var(--text-main);
            font-weight: 400;
        }

        #html-output code {
            font-family: "Courier New", Courier, monospace;
            background-color: rgba(0, 0, 0, 0.1);
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 0.9em;
        }

        /* Dark mode adjustment for code block in output */
        body.home-style #html-output code {
            background-color: rgba(255, 255, 255, 0.1);
        }

        #html-output pre {
            border-radius: 4px;
        }

        #html-output pre code {
            background-color: transparent;
            padding: 0;
        }

        #html-output blockquote {
            border-left: 4px solid #ccc;
            padding-left: 1rem;
            color: var(--text-muted);
            margin-left: 0;
        }

        #html-raw-output {
            margin: 0;
            background-color: #282c34;
        }

        /* Responsive adjustments for the tool */
        @media (max-width: 768px) {
            .tool-container {
                height: auto;
                min-height: 80vh;
            }

            .tool-main {
                flex-direction: column;
            }

            .panel {
                width: 100%;
                height: 50vh;
            }
        }
    </style>
    <link rel="icon" href="https://yerai.pages.dev/favicon.ico" sizes="48x48" />

</head>

<body class="home-style">
    <!-- Added home-style for dark theme consistency if desired, or remove if light theme is preferred. Assuming dark theme based on 'website 2' context -->

    <!-- HEADER -->
    <header>
        <div class="container-wide nav-flex">
            <a href="https://yerai.pages.dev/" class="logo">
                <img class="noborder" src="https://yerai.pages.dev/img/yerai-lorenzo-logo-blanco.svg"
                    alt="Yerai Lorenzo Logo">
            </a>
            <button class="mobile-menu-btn" aria-label="Abrir menú">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="desktop-nav">
                <a href="https://yerai.pages.dev/sobre-mi/" class="nav-link">Sobre mí</a>

                <div class="dropdown">
                    <a href="#" class="nav-link">Herramientas</a>
                    <div class="dropdown-content">
                        <a href="https://yerai.pages.dev/herramientas/featured-snippet-simulator/">Featured Snippet
                            Simulator</a>
                        <a href="https://yerai.pages.dev/herramientas/concatenador-palabras-clave/">Concatenar
                            keywords</a>
                        <a href="https://yerai.pages.dev/herramientas/markdown-a-html/">Markdown a HTML</a>
                    </div>
                </div>

                <a href="https://yerai.pages.dev/contacto/" class="nav-link">Contacto</a>
                <a href="mailto:yerai@yerailorenzo.com" class="btn btn-outline">Pide Presupuesto</a>
            </nav>
        </div>
    </header>

    <main class="container-wide" style="padding-top: 40px;">

        <div class="tool-container">
            <header class="tool-header">
                <h1>Markdown Limpio</h1>
            </header>

            <div class="controls">
                <button id="copy-btn">Copiar HTML</button>
                <button id="download-btn">Descargar .html</button>
                <button id="toggle-view-btn">Ver Código HTML</button>
                <label for="include-ids">
                    <input type="checkbox" id="include-ids">
                    Incluir IDs en encabezados
                </label>
            </div>

            <div class="tool-main">
                <section class="panel">
                    <textarea id="markdown-input" placeholder="Escribe tu Markdown aquí..."></textarea>
                </section>

                <section class="panel" id="output-panel">
                    <article id="html-output"></article>
                    <pre id="html-raw-output"
                        style="display: none;"><code id="html-raw-code" class="language-html"></code></pre>
                </section>
            </div>
        </div>

    </main>

    <!-- FOOTER -->
    <footer>
        <div class="container-wide">
            <div class="footer-grid">
                <!-- Col 1: Brand & Newsletter -->
                <div>
                    <img class="noborder"
                        src="https://yerai.pages.dev/https://yerai.pages.dev/img/yerai-lorenzo-logo-blanco.svg"
                        alt="Yerai Lorenzo Logo" style="width: 200px; margin-bottom: 20px;">
                    <p>Yerai Lorenzo es un consultor SEO especializado en SEO técnico y semántico.</p>

                    <p class="card-title text-accent" style="margin-top: 30px;">Apúntate a la newsletter</p>
                    <form action="#" class="footer-form">
                        <input type="email" placeholder="Tu email" required>
                        <button type="submit" class="btn-small">Únete</button>
                    </form>
                    <div class="footer-legal-check">
                        <input type="checkbox" id="privacy" required>
                        <label for="privacy">Acepto la política de privacidad</label>
                    </div>
                </div>

                <!-- Col 2: Navegación -->
                <div>
                    <p class="footer-title">Navegación</p>
                    <ul>
                        <li><a href="https://yerai.pages.dev/about.html">Sobre mí</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>

                <!-- Col 3: Legal -->
                <div>
                    <p class="footer-title">Legal</p>
                    <ul>
                        <li><a href="#">Aviso legal</a></li>
                        <li><a href="#">Política de cookies</a></li>
                        <li><a href="#">Política de privacidad</a></li>
                    </ul>
                </div>

                <!-- Col 4: Contacto -->
                <div>
                    <p class="footer-title">Contacto</p>
                    <a href="#">Teléfono: 622 77 17 78</a>

                    <p class="footer-title" style="margin-top:15px">Redes sociales</p>
                    <div class="social-links">
                        <!-- Facebook -->
                        <a href="https://www.facebook.com/yerailorenzoseo" target="_blank" rel="noopener noreferrer"
                            aria-label="Facebook">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor">
                                <path
                                    d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z">
                                </path>
                            </svg>
                        </a>

                        <!-- X (Twitter) -->
                        <a href="https://twitter.com/yerailorenzoseo" target="_blank" rel="noopener noreferrer"
                            aria-label="Twitter X">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                                <path
                                    d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z">
                                </path>
                            </svg>
                        </a>

                        <!-- LinkedIn -->
                        <a href="https://www.linkedin.com/in/yerailorenzo" target="_blank" rel="noopener noreferrer"
                            aria-label="LinkedIn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor">
                                <path
                                    d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z">
                                </path>
                            </svg>
                        </a>

                        <!-- Google Maps (Perfil de Negocio) -->
                        <a href="https://www.google.com/maps?cid=13333859496507057665" target="_blank"
                            rel="noopener noreferrer" aria-label="Google Maps">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M3.273 1.636c-.736 0-1.363.492-1.568 1.16L0 9.272c0 1.664 1.336 3 3 3a3 3 0 0 0 3-3c0 1.664 1.336 3 3 3a3 3 0 0 0 3-3c0 1.65 1.35 3 3 3 1.664 0 3-1.336 3-3 0 1.664 1.336 3 3 3s3-1.336 3-3l-1.705-6.476a1.646 1.646 0 0 0-1.568-1.16zm8.729 9.326c-.604 1.063-1.703 1.81-3.002 1.81-1.304 0-2.398-.747-3-1.806-.604 1.06-1.702 1.806-3 1.806-.484 0-.944-.1-1.363-.277v8.232c0 .9.736 1.637 1.636 1.637h17.454c.9 0 1.636-.737 1.636-1.637v-8.232a3.48 3.48 0 0 1-1.363.277c-1.304 0-2.398-.746-3-1.804-.602 1.058-1.696 1.804-3 1.804-1.299 0-2.394-.75-2.998-1.81zm5.725 3.765c.808 0 1.488.298 2.007.782l-.859.859a1.623 1.623 0 0 0-1.148-.447c-.98 0-1.772.827-1.772 1.806 0 .98.792 1.807 1.772 1.807.882 0 1.485-.501 1.615-1.191h-1.615v-1.16h2.826c.035.196.054.4.054.613 0 1.714-1.147 2.931-2.88 2.931a3 3 0 0 1 0-6z">
                                </path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="copyright">
                Copyright © 2025 Yerai Lorenzo
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" aria-label="Volver arriba"><svg viewBox="0 0 20 20">
            <path d="M10,0L9.4,0.6L0.8,9.1l1.2,1.2l7.1-7.1V20h1.7V3.3l7.1,7.1l1.2-1.2l-8.5-8.5L10,0z"></path>
        </svg></button>

    <!-- SCRIPTS -->
    <script src="https://yerai.pages.dev/main.js"></script>

    <script>
        // Referencias al DOM
        const markdownInput = document.getElementById('markdown-input');
        const includeIdsCheckbox = document.getElementById('include-ids');
        const copyBtn = document.getElementById('copy-btn');
        const downloadBtn = document.getElementById('download-btn');
        const toggleViewBtn = document.getElementById('toggle-view-btn');
        const htmlOutput = document.getElementById('html-output');
        const htmlRawOutput = document.getElementById('html-raw-output');
        const htmlRawCode = document.getElementById('html-raw-code');

        let isPreviewMode = true;

        // Extensión para encabezados y listas
        const customExtension = {
            renderer: {
                heading(token) {
                    if (includeIdsCheckbox.checked) return false;
                    const contentHtml = this.parser.parseInline(token.tokens);
                    const level = token.depth;
                    return `<h${level}>${contentHtml}</h${level}>`;
                },

                // --- INICIO DE LA SOLUCIÓN DEFINITIVA PARA LISTAS ---
                listitem(token) {
                    // 1. Dejamos que el parser genere el HTML del contenido del <li> por defecto.
                    // Esto producirá, por ejemplo, '<p>Contenido del item.</p>\n'
                    const text = this.parser.parse(token.tokens);

                    // 2. Limpiamos espacios y saltos de línea para una comprobación fiable.
                    const trimmedText = text.trim();

                    // 3. Comprobamos si el contenido es un ÚNICO párrafo.
                    //    - Debe empezar con <p> y terminar con </p>.
                    //    - Para evitar falsos positivos con múltiples párrafos, verificamos
                    //      que no haya más etiquetas <p> en el interior.
                    if (trimmedText.startsWith('<p>') && trimmedText.endsWith('</p>')) {
                        const innerContent = trimmedText.substring(3, trimmedText.length - 4);
                        if (!innerContent.includes('<p>')) {
                            // 4. Si es un solo párrafo, devolvemos el <li> con el contenido interior.
                            return `<li>${innerContent}</li>\n`;
                        }
                    }

                    // 5. Si no es un párrafo simple (o tiene contenido complejo),
                    //    devolvemos el HTML original sin modificar.
                    return `<li>${text}</li>`;
                }
                // --- FIN DE LA SOLUCIÓN DEFINITIVA ---
            }
        };
        marked.use(customExtension);

        // --- FUNCIÓN DE FORMATEO MEJORADA ---
        function formatHtml(html) {
            // Esta función ahora es más simple, ya que el renderer se encarga del formato de <li>
            let cleanedHtml = html.replace(/>\s+</g, '><');
            const blockTagsRegex = /(<\/h[1-6]>|<\/p>|<\/div>|<\/ul>|<\/ol>|<\/li>|<\/blockquote>|<\/pre>|<\/table>|<\/thead>|<\/tbody>|<\/tr>|<\/th>|<\/td>)/g;
            let formattedHtml = cleanedHtml.replace(blockTagsRegex, '$1\n');
            return formattedHtml.trim();
        }

        // El resto del script no necesita cambios...

        function getHtml() {
            return marked.parse(markdownInput.value, {
                gfm: true,
                breaks: true,
                highlight: function (code, lang) {
                    const language = hljs.getLanguage(lang) ? lang : 'plaintext';
                    return hljs.highlight(code, { language }).value;
                },
            });
        }

        function renderMarkdown() {
            const rawHtml = getHtml();
            htmlOutput.innerHTML = rawHtml;

            const formattedHtml = formatHtml(rawHtml);
            htmlRawCode.textContent = formattedHtml;
            hljs.highlightElement(htmlRawCode);
        }

        function toggleView() {
            isPreviewMode = !isPreviewMode;
            if (isPreviewMode) {
                htmlOutput.style.display = 'block';
                htmlRawOutput.style.display = 'none';
                toggleViewBtn.textContent = 'Ver Código HTML';
            } else {
                htmlOutput.style.display = 'none';
                htmlRawOutput.style.display = 'block';
                toggleViewBtn.textContent = 'Ver Vista Previa';
            }
        }

        markdownInput.addEventListener('input', renderMarkdown);
        includeIdsCheckbox.addEventListener('change', renderMarkdown);
        toggleViewBtn.addEventListener('click', toggleView);

        copyBtn.addEventListener('click', () => {
            const formattedHtml = formatHtml(getHtml());
            navigator.clipboard.writeText(formattedHtml)
                .then(() => {
                    copyBtn.textContent = '¡Copiado!';
                    setTimeout(() => copyBtn.textContent = 'Copiar HTML', 2000);
                });
        });

        downloadBtn.addEventListener('click', () => {
            const formattedHtml = formatHtml(getHtml());
            const blob = new Blob([formattedHtml], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mi-documento.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        markdownInput.value = `#### **Ventajas**

* **Eficiencia energética**: La aerotermia es una de las tecnologías más eficientes para climatización y agua caliente sanitaria, lo que puede reducir significativamente tus facturas de energía.  
* **Sostenibilidad**: Es una opción respetuosa con el medio ambiente, ya que utiliza energía renovable del aire exterior.  
* **Versatilidad**: Funciona tanto para calefacción como para refrigeración y agua caliente sanitaria (ACS), adaptándose a las necesidades de cada estación.

## Caso complejo (debe mantener los párrafos)

* Este es el primer párrafo de un item.

  Este es el segundo párrafo. Este sí necesita las etiquetas &lt;p&gt;.

* Un item simple.
`;

        renderMarkdown();
    </script>
</body>

</html>